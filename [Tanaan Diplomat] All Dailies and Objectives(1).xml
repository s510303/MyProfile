<HBProfile>
	<Name>[Tanaan Diplomat] All Dailies and Objectives</Name>
	
	<MinDurability>0.2</MinDurability>
	<MinFreeBagSlots>2</MinFreeBagSlots>

	<MailGrey>false</MailGrey>
	<MailWhite>false</MailWhite>
	<MailGreen>false</MailGreen>
	<MailBlue>true</MailBlue>
	<MailPurple>true</MailPurple>

	<SellGrey>true</SellGrey>
	<SellWhite>true</SellWhite>
	<SellGreen>true</SellGreen>
	<SellBlue>false</SellBlue>
	<SellPurple>false</SellPurple>

	<Blackspots>
		<Blackspot X="4809.82" Y="-214.9371" Z="3.513144" Radius="10.45735" /> <!-- Iron Horde Banner up on elevated location -->
		<Blackspot X="3427.449" Y="119.8596" Z="159.9057" Radius="8.291213" /> <!-- Sargerei Soulcharger object, draws bot into elite mobs. -->
		<Blackspot X="3389.877" Y="74.16195" Z="161.9778" Radius="9.28465" /> <!-- Glowing chest in Temple of Sha'nar near elites. -->
		<Blackspot X="3458.094" Y="42.21206" Z="161.3759" Radius="31.56551" /> <!-- Two Demonic Focus objects around tons of elites. -->
		<Blackspot X="3376.689" Y="37.228" Z="164.2126" Radius="87.25522" /> <!-- Upper terrace of Sha'naar -->
		<Blackspot X="3969.422" Y="1030.573" Z="160.5733" Radius="16.61105" /> <!-- Objects+Bodies near northern Wargronn in Iron Hold -->
		<Blackspot X="3890.472" Y="1033.717" Z="161.3772" Radius="17.98249" /> <!-- Objects+Bodies near sourthern Wargronn in Iron Hold. -->
		<Blackspot X="3930.479" Y="947.4286" Z="158.092" Radius="15.64253" /> <!-- Objects+Bodies near mid-Wargronn in Iron Hold -->
		<Blackspot X="3887.124" Y="913.0439" Z="155.2094" Radius="16.76551" /> <!-- Objects+Bodies near mid-Wargronn in Iron Hold -->
		<Blackspot X="3947.078" Y="842.6931" Z="152.6834" Radius="2.589339" /> <!-- Banner in Iron Hold that conflicts with Avoid logic. -->

		<!-- Treasure Avoids -->
		<Blackspot X="4341.847" Y="452.6644" Z="185.6965" Radius="7.837387" /> <!-- Zeth'gol - Glowing Chest on tree -->
		<Blackspot X="4656.955" Y="-454.8039" Z="15.68005" Radius="9.490588" /> <!-- Ironhold Harbor - Glowing Chest on hut -->
		<Blackspot X="4303.141" Y="-867.7543" Z="30.30294" Radius="5.561635" /> <!-- Fel Forge - Glowing Chest on crates. --> 
	</Blackspots>

	<Vendors>
		<Vendor Name="Forika the Seer" Entry="93178" Type="Repair" Nav="Fly" X="4567.845" Y="360.5729" Z="221.1745" /> <!-- Neutral -->
		<Vendor Name="Veetra the Tender" Entry="92069" Type="Repair" Nav="Fly" X="3527.068" Y="-763.809" Z="40.33412" /> <!-- Neutral -->
		<Vendor Name="Thaesus" Entry="90977" Type="Repair" Nav="Fly" X="3823.288" Y="-1371.474" Z="95.44617" UsableWhen="Me.IsAlliance" /> <!-- Alliance -->
		<Vendor Name="Rett Blasterhose" Entry="90994" Type="Repair" Nav="Fly" X="4326.587" Y="-1405.056" Z="71.38323" UsableWhen="Me.IsHorde" /> <!-- Horde -->
		<Vendor Name="Shadow Hunter Denjai" Entry="96014" Type="Repair" Nav="Fly" X="4334.67" Y="-1529.712" Z="88.28191" UsableWhen="Me.IsHorde" /> <!-- Horde -->
	</Vendors>

	<Mailboxes>
		<Mailbox X="3843.123" Y="-1341.004" Z="93.79218" UsableWhen="Me.IsAlliance" />
		<Mailbox X="4296.142" Y="-1482.004" Z="79.62183" UsableWhen="Me.IsHorde" />
	</Mailboxes>

	<ProtectedItems>
		<Item Name="Fel-Proof Goggles" Id="128218" />
	</ProtectedItems>

	<Blacklist>
		<Mob Name="Rasthe" Id="90782" Flags="Pull" />
		<Mob Name="Iron Wargronn" Id="90585" Flags="Pull" />
	</Blacklist>

	<AvoidMobs>
		<Mob Name="Rasthe" Entry="90782" />
		<Mob Name="Iron Wargronn" Entry="90585" />
	</AvoidMobs>

<QuestOrder>
	<!-- Activate Baleful Token Usage -->
		<CustomBehavior File="Hooks\DoWhen" LogExecution="false" AllowExecutionWhileNotAlive="false" ActivityName="UseBalefulTokens" UseWhen="(Me.IsAlive &amp;&amp; !Me.Combat) &amp;&amp; (HasItem(124550) || HasItem(124551) || HasItem(124552) || HasItem(124553) || HasItem(124554) || HasItem(124555) || HasItem(124556) || HasItem(124557) || HasItem(124558) || HasItem(124559) || HasItem(124560) || HasItem(124561) || HasItem(124562) || HasItem(128348))" >
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Using Baleful tokens.&quot;);" />
		<While Condition="HasItem(128348) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Shoulders -->
	      <CustomBehavior File="UseItem" ItemId="128348" WaitTime="3100" />
		</While>
	    <While Condition="HasItem(124550) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Bracers -->
	      <CustomBehavior File="UseItem" ItemId="124550" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124551) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Tunic -->
	      <CustomBehavior File="UseItem" ItemId="124551" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124552) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Treads -->
	      <CustomBehavior File="UseItem" ItemId="124552" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124553) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Gauntlets -->
	      <CustomBehavior File="UseItem" ItemId="124553" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124554) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Hood -->
	      <CustomBehavior File="UseItem" ItemId="124554" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124555) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Leggings -->
	      <CustomBehavior File="UseItem" ItemId="124555" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124556) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Spaulders -->
	      <CustomBehavior File="UseItem" ItemId="124556" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124557) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Girdle -->
	      <CustomBehavior File="UseItem" ItemId="124557" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124558) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Ring -->
	      <CustomBehavior File="UseItem" ItemId="124558" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124559) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Choker -->
	      <CustomBehavior File="UseItem" ItemId="124559" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124560) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Cloak -->
	      <CustomBehavior File="UseItem" ItemId="124560" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124561) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Trinket -->
	      <CustomBehavior File="UseItem" ItemId="124561" WaitTime="3100" />
	    </While>
	    <While Condition="HasItem(124562) &amp;&amp; (Me.IsAlive &amp;&amp; !Me.Combat)" > <!-- Armament -->
	      <CustomBehavior File="UseItem" ItemId="124562" WaitTime="3100" />
	    </While>
		</CustomBehavior>
	<!-- END Activate Baleful Token Usage -->

	<!-- Item Level Technicals -->
		<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Your gear seems to be strong enough. We won't take any precautions.&quot;);" />
		</If>
		<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Your gear looks to be a bit weak. We will use a more cautious farm method and avoid stronger mobs.&quot;);" />
			<!-- Could use a SetBlackspots :o -->
			<SetAvoidMobs>
				<Mob Name="Felguard" Entry="90425" />
				<Mob Name="Eredar Chaosborn" Entry="92546" />
				<Mob Name="Imp-Master Valessa" Entry="90429" />
			</SetAvoidMobs>
			<SetBlacklist>
				<Blacklist>
					<Mob Name="Felguard" Id="90425" Flags="Pull" />
					<Mob Name="Eredar Chaosborn" Id="92546" Flags="Pull" />
					<Mob Name="Imp-Master Valessa" Id="90429" Flags="Pull" />
				</Blacklist>
			</SetBlacklist>
			<CustomBehavior File="RunCode" Code="RoutineManager.SetCapabilityState(CapabilityFlags.MultiMobPull, CapabilityState.Disallowed);" />
		</If>
	<!-- END Item Level Technicals -->

	<!-- Install Hooks -->
		<CustomBehavior File="Hooks\Avoid" AvoidName="Rasthe" Command="Add" ObjectType="Npc" ObjectId="90782" Radius="20" AvoidWhen="!UNIT.IsTargetingMeOrPet &amp;&amp; UNIT.IsAlive" />
		<CustomBehavior File="Hooks\Avoid" AvoidName="Wargronn_NPC" Command="Add" ObjectType="Npc" ObjectId="90585" Radius="10" AvoidWhen="!UNIT.IsTargetingMeOrPet &amp;&amp; UNIT.IsAlive" />
		<CustomBehavior File="Hooks\Avoid" AvoidName="Pollen_Cloud" Command="Add" ObjectType="Npc" ObjectId="92700" Radius="9" AvoidWhen="Me.Combat" />
		<CustomBehavior File="Hooks\Avoid" AvoidName="ClusterBombs" Command="Add" ObjectType="Npc" ObjectId="78427" Radius="5" />
		<CustomBehavior File="Hooks\Avoid" AvoidName="Wargronn_Smash" Command="Add" ObjectId="150793" Radius="5" AvoidLocationProducer="UNIT.Location.RayCast(UNIT.Rotation, 8)" />
		<CustomBehavior File="Hooks\Avoid" AvoidName="Shadow_Zone" Command="Add" ObjectType="Missile" ObjectId="183165" Radius="5" />
		<CustomBehavior File="Hooks\Avoid" AvoidName="Fel_Pool" Command="Add" ObjectType="AreaTrigger" ObjectId="8757" Radius="5" />
		<CustomBehavior File="Hooks\Avoid" AvoidName="IronHordeCannonBombardment" Command="Add" ObjectType="Missile" ObjectId="184281" Radius="5" />
		<CustomBehavior File="Hooks\DoWhen" LogExecution="false" AllowExecutionWhileNotAlive="false" AllowUseDuringCombat="true" ActivityName="Use_ObjectiveItems" UseWhen="Styx.CommonBot.Bars.ActionBar.Extra.IsActive &amp;&amp; Me.DurabilityPercent &gt;= .2 &amp;&amp; ((Me.Combat &amp;&amp; Me.GotTarget) || ((ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Where(o =&gt; new[]{90069, 90781, 91901, 92741}.Contains((int)o.Entry) &amp;&amp; o.Distance &lt; 15).OrderBy(o =&gt; o.Distance).FirstOrDefault() != null)))" >
			<While Condition="Styx.CommonBot.Bars.ActionBar.Extra.IsActive &amp;&amp; Me.DurabilityPercent &gt;= .2 &amp;&amp; ((Me.Combat &amp;&amp; Me.GotTarget) || ((ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Where(o =&gt; new[]{90069, 90781, 91901, 92741}.Contains((int)o.Entry) &amp;&amp; o.Distance &lt; 15).OrderBy(o =&gt; o.Distance).FirstOrDefault() != null)) || (Unit(90074, u =&gt; Navigator.PathDistance(Me.Location, u.Location) &lt;= 50 &amp;&amp; u.IsAlive) != null &amp;&amp; !Me.Combat) || (Unit(92616, u =&gt; Navigator.PathDistance(Me.Location, u.Location) &lt;= 50 &amp;&amp; u.IsAlive) != null &amp;&amp; !Me.Combat))" >
				<If Condition="Me.Combat &amp;&amp; !Me.GotTarget" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Lagging hook until we get a target.&quot;);" />
					<CustomBehavior File="WaitTimer" WaitTime="5000" TerminateWhen="Me.GotTarget || !Me.Combat" />
				</If>
				<!-- Use on units attacking us. -->
				<If Condition="Me.Combat &amp;&amp; Me.GotTarget" >
					<!-- ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Where(u =&gt; u.Aggro).Count() &gt;= 1 Use this if issues occur. -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Using Objective Item on mobs attacking us.&quot;);" />
					<DisableBehavior Name="Combat" />
					<CustomBehavior File="RunCode" > <!-- Instead of using CurrentTarget, perhaps we should use ObjectManager to get the location of the closest hostile -->
					<![CDATA[
						Lua.DoString("ExtraActionButton1:Click();");
						await Coroutine.Sleep(500);
						if (Me.GotTarget) {
							SpellManager.ClickRemoteLocation(Me.CurrentTarget.Location); 
							await Coroutine.Sleep(1500);
						}
					]]>
					</CustomBehavior>
					<EnableBehavior Name="Combat" />
				</If>
				<!-- Use on nearby tank. 
				<If Condition="!Me.Combat &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Where(o =&gt; new[]{92616, 90074}.Contains((int)o.Entry) &amp;&amp; Navigator.PathDistance(Me.Location, o.Location) &lt; 50 &amp;&amp; o.IsAlive).OrderBy(o =&gt; o.Distance).FirstOrDefault() != null" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Using Objective Item on nearby tank.&quot;);" />
					<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting to leave combat: {TimeRemaining}" TerminateWhen="!Me.Combat" />  We need to be out of combat first. 
					<CustomBehavior File="TargetAndMoveToMob" MobId1="90074" MobId2="92616" WaitForNpcs="false" MoveWithinMaxRangeOfMob="25" TerminateWhen="!Styx.CommonBot.Bars.ActionBar.Extra.IsActive || Me.Combat" />
					<If Condition="Styx.CommonBot.Bars.ActionBar.Extra.IsActive &amp;&amp; !Me.Combat &amp;&amp; Me.GotTarget" >
						<CustomBehavior File="ForcedDismount" />
						<CustomBehavior File="RunCode" >  Instead of using CurrentTarget, perhaps we should use ObjectManager to get the location of the closest hostile 
							<![CDATA[ 
								Lua.DoString("ExtraActionButton1:Click();");
								await Coroutine.Sleep(500);
								if (Me.GotTarget && Me.CurrentTarget.IsAlive) {
									SpellManager.ClickRemoteLocation(Me.CurrentTarget.Location);
									await Coroutine.Sleep(1500);
								}
							]]>
						</CustomBehavior>
					</If>
				</If>-->
				<!-- Dispose if another nearby. -->
				<If Condition="(ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Where(o =&gt; new[]{90069, 90781, 91901, 92741}.Contains((int)o.Entry) &amp;&amp; o.Distance &lt; 15).OrderBy(o =&gt; o.Distance).FirstOrDefault() != null)" >
					<!-- Hostile check, assumed to cause <If/> errors: !(ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Any(u =&gt; u.IsHostile &amp;&amp; u.Distance &lt;= 16 &amp;&amp; u.IsAlive)) -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Disposing of Objective Item to loot another.&quot;);" />
					<CustomBehavior File="RunCode">
					<![CDATA[ 
						Lua.DoString("ExtraActionButton1:Click();");
						await Coroutine.Sleep(500);
						SpellManager.ClickRemoteLocation(Me.Location); 
						await Coroutine.Sleep(1500);
					]]>
					</CustomBehavior>
				</If>
			</While>
		</CustomBehavior>
		<CustomBehavior File="Hooks\DoWhen" LogExecution="false" AllowExecutionWhileNotAlive="false" AllowUseDuringCombat="true" ActivityName="Use_HealingObjects" UseWhen="Me.HealthPercent &lt;= 65 &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Where(o =&gt; new[]{240173, 241612}.Contains((int)o.Entry) &amp;&amp; o.Distance &lt;= 30).OrderBy(o =&gt; o.Distance).FirstOrDefault() != null" >
			<DisableBehavior Name="Combat" />
			<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MobIds="240173, 241612" Range="5" IgnoreCombat="true" ProactiveCombatStrategy="NoClear" WaitForNpcs="false" CollectionDistance="500" />
			<EnableBehavior Name="Combat" />
		</CustomBehavior>
		<!-- Hook Treasures and Rare Detection -->
			<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
				<CustomBehavior File="Hooks\DoWhen" LogExecution="false" AllowExecutionWhileNotAlive="false" ActivityName="Kill Rares" UseWhen="Me.IsAlive &amp;&amp; Me.DurabilityPercent &gt;= .2 &amp;&amp; ((HasQuest(39432) &amp;&amp; !IsQuestCompleted(39432)) || (HasQuest(39433) &amp;&amp; !IsQuestCompleted(39433))) &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Where(u =&gt; new[]{92552, 90884, 90936, 92429, 93264, 93076, 90434, 90519, 89675, 90887, 93028, 90888, 91727, 92647, 93125, 92941, 91695, 90094, 90777, 90429, 90437, 93279, 90438, 93002, 90442, 91374, 92194, 90885, 90024, 93236, 92887, 92606, 92694, 92977, 92574, 91087, 90122}.Contains((int)u.Entry) &amp;&amp; Navigator.CanNavigateFully(Me.Location, u.Location) &amp;&amp; Navigator.PathDistance(Me.Location, u.Location) &lt;= 50 &amp;&amp; u.IsAlive).OrderBy(u =&gt; Navigator.PathDistance(Me.Location, u.Location)).FirstOrDefault() != null" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Killing a rare.&quot;);" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" WaitForNpcs="false" ProactiveCombatStrategy="ClearMobsTargetingUs" MobState="Alive" InteractByLooting="true" CollectionDistance="500"
					MobIds="92552, 90884, 90936, 92429, 93264, 93076, 90434, 90519, 89675, 90887, 93028, 90888, 91727, 92647, 93125, 92941, 91695, 90094, 90777, 90429, 90437, 93279, 90438, 93002, 90442, 91374, 92194, 90885, 90024, 93236, 92887, 92606, 92694, 92977, 92574, 91087, 90122" TerminateWhen="Me.IsDead" />
				</CustomBehavior>

				<CustomBehavior File="Hooks\DoWhen" LogExecution="false" AllowExecutionWhileNotAlive="false" ActivityName="Grab Treasures" UseWhen="Me.IsAlive &amp;&amp; ((HasQuest(39432) &amp;&amp; !IsQuestCompleted(39432)) || (HasQuest(39433) &amp;&amp; !IsQuestCompleted(39433))) &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().Where(o =&gt; new[]{241599, 241847, 241848, 241433, 241656, 240003, 241742, 241563, 241745, 242649, 241561, 242249, 241760, 240577, 243852, 241605, 241657, 241692, 243796, 241533, 241565, 241521, 241560, 241671, 243860, 241504, 241699, 240543, 241713, 240289, 241775, 243693, 241673, 241566, 243690, 241764, 241449, 241835, 240580, 241674, 241841, 241450, 241601, 241600, 241602}.Contains((int)o.Entry) &amp;&amp; !(Math.Floor(o.X) == 4338 || Math.Floor(o.X) == 4302 || Math.Floor(o.X) == 4656) &amp;&amp; Navigator.CanNavigateFully(Me.Location, o.Location) &amp;&amp; Navigator.PathDistance(Me.Location, o.Location) &lt; 75).OrderBy(o =&gt; Navigator.PathDistance(Me.Location, o.Location)).FirstOrDefault() != null" > <!-- 241666, object behind progress barrier -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Grabbing a treasure.&quot;);" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" WaitForNpcs="false" Range="5" IgnoreLoSToTarget="true" CollectionDistance="500" WaitTime="2500" NumOfTimes="2"
				MobIds="241599, 241847, 241848, 241433, 241656, 240003, 241742, 241563, 241745, 242649, 241561, 242249, 241760, 240577, 243852, 241605, 241657, 241692, 243796, 241533, 241565, 241521, 241560, 241671, 243860, 241504, 241699, 240543, 241713, 240289, 241775, 243693, 241673, 241566, 243690, 241764, 241449, 241835, 240580, 241674, 241841, 241450, 241601, 241600, 241602" TerminateWhen="Me.IsDead" />
				</CustomBehavior>
			</If>
			<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
				<CustomBehavior File="Hooks\DoWhen" LogExecution="false" ActivityName="Grab Treasures" UseWhen="Me.IsAlive &amp;&amp; ((HasQuest(39432) &amp;&amp; !IsQuestCompleted(39432)) || (HasQuest(39433) &amp;&amp; !IsQuestCompleted(39433))) &amp;&amp; 
				ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().Where(o =&gt; new[]{243796, 243852, 243860}.Contains((int)o.Entry) &amp;&amp; !(Math.Floor(o.X) == 4338 || Math.Floor(o.X) == 4302 || Math.Floor(o.X) == 4656) &amp;&amp; Navigator.PathDistance(Me.Location, o.Location) &lt; 75 &amp;&amp;	Navigator.CanNavigateFully(Me.Location, o.Location)).OrderBy(o =&gt; o.Distance).FirstOrDefault() != null" > 
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Grabbing a treasure.&quot;);" />

				<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" WaitForNpcs="false" IgnoreLoSToTarget="true" CollectionDistance="150" WaitTime="2500" NumOfTimes="2" MobIds="243796, 243852, 243860" />
				</CustomBehavior>
			</If>
		<!-- END Hook Treasures and Rare Detection -->
	<!-- END Install Hooks -->

	<!-- [Alliance] Daily Quests Pickups -->
		<If Condition="Me.IsAlliance" >
			<!-- [Hand of the Prophet] Complete Introductory Quests -->
				<While Condition="!IsQuestCompleted(38446)" >
					<PickUp Nav="Fly" QuestName="The Battle for the West" QuestId="38581" GiverName="Exarch Yrel" GiverId="90309" />
					<While Condition="HasQuest(38581) &amp;&amp; (!IsObjectiveComplete(1, 38581) || Unit(90960) != null)" >
						<MoveTo Nav="Fly" DestName="Skyguard Thann" X="3874.379" Y="-1312.062" Z="90.48894" />
						<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="90960" InteractByGossipOptions="2" X="3876.641" Y="-1310.991" Z="90.41825" />
					</While>
					<TurnIn Nav="Fly" QuestName="The Battle for the West" QuestId="38581" TurnInName="Exarch Maladaar" TurnInId="91935" />
					<PickUp Nav="Fly" QuestName="Commander in the Field!" QuestId="38446" GiverName="Exarch Maladaar" GiverId="91935" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38446" QuestObjectiveIndex="1" MobId="91942" X="3729.331" Y="151.75" Z="56.25351" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38446" QuestObjectiveIndex="2" MobId="91945" X="4574.01" Y="345.125" Z="221.041" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38446" QuestObjectiveIndex="3" MobId="91968" X="4460.054" Y="-565.7136" Z="50.30359" />
					<TurnIn Nav="Fly" QuestName="Commander in the Field!" QuestId="38446" TurnInName="Exarch Yrel" TurnInId="90309" />
				</While>
			<!-- END Complete Introductory Quests -->

			<!-- Pickup Randomized Daily from Parvink -->
				<While Condition="!(HasQuest(39582) || HasQuest(39581) || HasQuest(39586)) &amp;&amp; !(IsQuestCompleted(39582) || IsQuestCompleted(39581) || IsQuestCompleted(39586))" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Checking Parvink for dailies.&quot;);" />
					<MoveTo Nav="Fly" DestName="Parvink" X="3842.831" Y="-1328.245" Z="92.13056" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="96147" Range="5" WaitTime="500" X="3840.701" Y="-1327.689" Z="94.02097" />
					<If Condition="Lua.GetReturnVal&lt;bool&gt;(&quot;return QuestFrameDetailPanel:IsVisible();&quot;, 0)" >
						<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Choosing quest from Parvink.&quot;);" />
						<CustomBehavior File="Misc\RunLua" Lua="QuestFrameAcceptButton:Click();" />
						<CustomBehavior File="WaitTimer" WaitTime="500" />
						<ElseIf Condition="Lua.GetReturnVal&lt;bool&gt;(&quot;return QuestTitleButton2:IsVisible();&quot;, 0)" > <!-- If player has quest from previous day -->
							<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Choosing second quest from Parvink.&quot;);" />
							<CustomBehavior File="Misc\RunLua" Lua="QuestTitleButton2:Click();" />
							<CustomBehavior File="WaitTimer" WaitTime="500" />
							<CustomBehavior File="Misc\RunLua" Lua="QuestFrameAcceptButton:Click();" />
							<CustomBehavior File="WaitTimer" WaitTime="500" />
						</ElseIf>
						<Else>
							<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Parvink doesn't seem to be offering a quest at the moment.&quot;);" />
						</Else>
					</If>
				</While>
			<!-- END Pickup Randomized Daily from Parvink -->

			<!-- Pickup Randomized Daily from Tanaan Battle Plan -->
				<While Condition="!(HasQuest(37891) || HasQuest(37968) || HasQuest(38046) || HasQuest(38045) || HasQuest(38250) || HasQuest(38440)) &amp;&amp; !(IsQuestCompleted(37891) || IsQuestCompleted(37968) || IsQuestCompleted(38046) || IsQuestCompleted(38045) || IsQuestCompleted(38250) || IsQuestCompleted(38440))" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Checking Tanaan Planning map.&quot;);" />
					<MoveTo Nav="Fly" DestName="Tanaan Planning Map" X="3822.575" Y="-1360.395" Z="94.93047" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="239902" NonCompeteDistance="0" Range="5" WaitTime="500" X="3817.707" Y="-1363.149" Z="95.86454" />
					<While Condition="Lua.GetReturnVal&lt;bool&gt;(&quot;return QuestChoiceFrame:IsVisible();&quot;, 0)" >
						<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Choosing quest from Tanaan Planning Map.&quot;);" />
						<CustomBehavior File="Misc\RunLua" Lua="QuestChoiceFrameOption1.OptionButton:Click();" />
						<CustomBehavior File="WaitTimer" WaitTime="500" />
					</While>
					<While Condition="HasQuest(38585)" > <!-- If we pick up a group quest. -->
						<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Picked up a group quest, abandoning it to choose a solo quest.&quot;);" />
						<CustomBehavior File="AbandonQuest" QuestId="38585" />
						<CustomBehavior File="WaitTimer" WaitTime="500" />
						<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="239902" NonCompeteDistance="0" Range="5" WaitTime="500" X="3817.707" Y="-1363.149" Z="95.86454" />
						<While Condition="Lua.GetReturnVal&lt;bool&gt;(&quot;return QuestChoiceFrame:IsVisible();&quot;, 0)" >
							<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Choosing quest from Tanaan Planning Map.&quot;);" />
							<CustomBehavior File="Misc\RunLua" Lua="QuestChoiceFrameOption2.OptionButton:Click();" />
							<CustomBehavior File="WaitTimer" WaitTime="500" />
						</While>
					</While>
				</While>
			<!-- END Pickup Randomized Daily from Tanaan Battle Plan -->

			<!-- [Order of the Awakened] Pickup Introductory Quests -->
				<While Condition="HasQuest(39432) &amp;&amp; IsQuestCompleted(39432)" >
					<MoveTo Nav="Fly" DestName="Turning in Unknowable Power" X="3855.364" Y="-1333.635" Z="91.09735" />
					<TurnIn Nav="Fly" QuestName="Unknowable Power" QuestId="39432" TurnInName="Dawn-Seeker Krisek" TurnInId="95424" />
				</While>
				<While Condition="!HasQuest(39432) &amp;&amp; !IsQuestCompleted(39432)" >
					<MoveTo Nav="Fly" DestName="Picking up Unknowable Power" X="3855.364" Y="-1333.635" Z="91.09735" />
					<PickUp Nav="Fly" QuestName="Unknowable Power" QuestId="39432" GiverName="Dawn-Seeker Krisek" GiverId="95424" />
				</While>
			<!-- END [Order of the Awakened] Pickup Introductory Quests -->

			<!-- [Order of the Awakened] Pickup Daily Quest -->
				<While Condition="!HasQuest(39433) &amp;&amp; !IsQuestCompleted(39433) &amp;&amp; IsQuestCompleted(39432)" >
					<MoveTo Nav="Fly" DestName="Picking up Unseen Influence" X="3855.364" Y="-1333.635" Z="91.09735" />
					<PickUp QuestName="Unseen Influence" QuestId="39433" GiverName="Dawn-Seeker Krisek" GiverId="95424" />
				</While>
			<!-- END [Order of the Awakened] Pickup Daily Quest --> 
		</If>
	<!-- [Alliance] END Daily Quests Pickups -->

	<!-- [Horde] Daily Quests Pickups -->
		<If Condition="Me.IsHorde" >
			<!-- [Vol'jin's Headhunters] Complete Introductory Quests -->
				<While Condition="!IsQuestCompleted(38001)" >
					<PickUp Nav="Fly" QuestName="The Battle for the West" QuestId="38577" GiverName="Draka" GiverId="90481" />
					<While Condition="HasQuest(38577) &amp;&amp; (!IsObjectiveComplete(1, 38577) || Unit(90550) != null)" >
						<MoveTo Nav="Fly" DestName="Skyguard Thann" X="4308.627" Y="-1465.863" Z="78.92319" />
						<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="90550" InteractByGossipOptions="1" X="4308.067" Y="-1463.92" Z="79.05212" />
					</While>
					<TurnIn Nav="Fly" QuestName="The Battle for the West" QuestId="38577" TurnInName="Durotan" TurnInId="90553" />
					<PickUp Nav="Fly" QuestName="Commander in the Field!" QuestId="38001" GiverName="Durotan" GiverId="90553" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38001" QuestObjectiveIndex="2" MobId="90563" X="4574.147" Y="345.8663" Z="221.0324" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38001" QuestObjectiveIndex="1" MobId="90581" X="3727.438" Y="164.6736" Z="55.83973" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38001" QuestObjectiveIndex="3" MobId="90548" X="4449.394" Y="-584.4705" Z="50.25083" />
					<TurnIn Nav="Fly" QuestName="Commander in the Field!" QuestId="38001" TurnInName="Draka" TurnInId="90481" />
				</While>
			<!-- END [Vol'jin's Headhunters] Complete Introductory Quests -->

			<!-- Pickup Randomized Daily from Nimi Brightcastle -->
				<While Condition="!(HasQuest(39532) || HasQuest(39519) || HasQuest(39529)) &amp;&amp; !(IsQuestCompleted(39532) || IsQuestCompleted(39519) || IsQuestCompleted(39529))" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Checking Nimi Brightcastle for dailies.&quot;);" />
					<MoveTo Nav="Fly" DestName="Nimi Brightcastle" X="4326.101" Y="-1425.438" Z="69.44341" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="93396" Range="5" WaitTime="500" X="4326.101" Y="-1425.438" Z="69.44341" />
					<If Condition="Lua.GetReturnVal&lt;bool&gt;(&quot;return QuestFrameDetailPanel:IsVisible();&quot;, 0)" >
						<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Choosing quest from Nimi Brightcastle.&quot;);" />
						<CustomBehavior File="Misc\RunLua" Lua="QuestFrameAcceptButton:Click();" />
						<CustomBehavior File="WaitTimer" WaitTime="500" />
						<ElseIf Condition="Lua.GetReturnVal&lt;bool&gt;(&quot;return QuestTitleButton2:IsVisible();&quot;, 0)" > <!-- If player has quest from previous day -->
							<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Choosing second quest from Parvink.&quot;);" />
							<CustomBehavior File="Misc\RunLua" Lua="QuestTitleButton2:Click();" />
							<CustomBehavior File="WaitTimer" WaitTime="500" />
							<CustomBehavior File="Misc\RunLua" Lua="QuestFrameAcceptButton:Click();" />
							<CustomBehavior File="WaitTimer" WaitTime="500" />
						</ElseIf>
						<Else>
							<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Nimi Brightcastle doesn't seem to be offering a quest at the moment.&quot;);" />
						</Else>
					</If>
				</While>
			<!-- END Pickup Randomized Daily from Nimi Brightcastle -->

			<!-- Pickup Randomized Daily from Tanaan Battle Plan -->
				<While Condition="!(HasQuest(37940) || HasQuest(38449) || HasQuest(38047) || HasQuest(38044) || HasQuest(38252) || HasQuest(38441)) &amp;&amp; !(IsQuestCompleted(37940) || IsQuestCompleted(38449) || IsQuestCompleted(38047) || IsQuestCompleted(38044) || IsQuestCompleted(38252) || IsQuestCompleted(38441))" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Checking Tanaan Planning map.&quot;);" />
					<MoveTo Nav="Fly" DestName="Tanaan Planning Map" X="4327.29" Y="-1517.717" Z="88.02447" />
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="241725" NonCompeteDistance="0" Range="5" WaitTime="500" X="4327.646" Y="-1520.481" Z="88.02522" />
					<While Condition="Lua.GetReturnVal&lt;bool&gt;(&quot;return QuestChoiceFrame:IsVisible();&quot;, 0)" >
						<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Choosing quest from Tanaan Planning Map.&quot;);" />
						<CustomBehavior File="Misc\RunLua" Lua="QuestChoiceFrameOption1.OptionButton:Click();" />
						<CustomBehavior File="WaitTimer" WaitTime="500" />
					</While>
					<While Condition="HasQuest(38586)" > <!-- If we pick up a group quest. -->
						<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Picked up a group quest, abandoning it to choose a solo quest.&quot;);" />
						<CustomBehavior File="AbandonQuest" QuestId="38586" />
						<CustomBehavior File="WaitTimer" WaitTime="500" />
						<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="241725" NonCompeteDistance="0" Range="5" WaitTime="500" X="4327.646" Y="-1520.481" Z="88.02522" />
						<While Condition="Lua.GetReturnVal&lt;bool&gt;(&quot;return QuestChoiceFrame:IsVisible();&quot;, 0)" >
							<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Choosing quest from Tanaan Planning Map.&quot;);" />
							<CustomBehavior File="Misc\RunLua" Lua="QuestChoiceFrameOption2.OptionButton:Click();" />
							<CustomBehavior File="WaitTimer" WaitTime="500" />
						</While>
					</While>
				</While>
			<!-- END Pickup Randomized Daily from Tanaan Battle Plan -->

			<!-- [Order of the Awakened] Pickup Introductory Quests -->
				<While Condition="HasQuest(39432) &amp;&amp; IsQuestCompleted(39432)" >
					<MoveTo Nav="Fly" DestName="Turning in Unknowable Power" X="4298.418" Y="-1463.4" Z="79.44233" />
					<TurnIn Nav="Fly" QuestName="Unknowable Power" QuestId="39432" TurnInName="Dawn-Seeker Krisek" TurnInId="95424" />
				</While>
				<While Condition="!HasQuest(39432) &amp;&amp; !IsQuestCompleted(39432)" >
					<MoveTo Nav="Fly" DestName="Picking up Unknowable Power" X="4298.418" Y="-1463.4" Z="79.44233" />
					<PickUp Nav="Fly" QuestName="Unknowable Power" QuestId="39432" GiverName="Dawn-Seeker Krisek" GiverId="95424" />
				</While>
			<!-- END [Order of the Awakened] Pickup Introductory Quests -->

			<!-- [Order of the Awakened] Pickup Daily Quests -->
				<While Condition="!HasQuest(39433) &amp;&amp; !IsQuestCompleted(39433) &amp;&amp; IsQuestCompleted(39432)" >
					<MoveTo Nav="Fly" DestName="Picking up Unseen Influence" X="4298.418" Y="-1463.4" Z="79.44233" />
					<PickUp Nav="Fly" QuestName="Unseen Influence" QuestId="39433" GiverName="Dawn-Seeker Krisek" GiverId="95424" />
				</While>
			<!-- END [Order of the Awakened] Pickup Daily Quests -->
		</If>
	<!-- [Horde] END Daily Quests Pickups -->

	<!-- [Alliance] Do Daily Quests -->
		<If Condition="Me.IsAlliance" >
			<!-- DO Randomized Daily from Tanaan Battle Plan -->
				<While Condition="HasQuest(37891) &amp;&amp; !IsQuestCompleted(37891)" > <!-- Assault on Ironhold Harbor -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on Ironhold Harbor.&quot;);" />
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(37866) &amp;&amp; !IsQuestCompleted(37866)" >
								<MoveTo Nav="Fly" DestName="Ironhold Harbor" X="4583.305" Y="-399.9979" Z="10.69125" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37866)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsThatWillAggro" QuestId="37891" NumOfTimes="1000" WaitTime="500" MobIds="239839, 90433, 90069" >
								<HuntingGrounds> <!-- 90069, True Iron Bomb. Need to click on a tank after picking it up. Could also just have it click the player's location. -->
									<Hotspot X="4583.305" Y="-399.9979" Z="10.69125" />
									<Hotspot X="4592.449" Y="-238.1564" Z="10.7333" />
									<Hotspot X="4770.981" Y="-244.9629" Z="4.211271" />
									<Hotspot X="4786.581" Y="-386.6306" Z="4.258256" />
									<Hotspot X="4644.233" Y="-483.5012" Z="21.41648" />
									<Hotspot X="4581.786" Y="-506.2161" Z="21.41869" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(37866) &amp;&amp; !IsQuestCompleted(37866)" >
								<MoveTo Nav="Fly" DestName="Ironhold Harbor" X="4633.494" Y="-578.2945" Z="44.38635" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37866)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsThatWillAggro" QuestId="37891" NumOfTimes="1000" WaitTime="500" MobIds="239839, 90433, 90069" >
								<HuntingGrounds> <!-- 90069, True Iron Bomb. Need to click on a tank after picking it up. Could also just have it click the player's location. -->
									<Hotspot X="4658.131" Y="-552.9175" Z="36.25991" />
									<Hotspot X="4634.374" Y="-493.1973" Z="21.42153" />
									<Hotspot X="4693.737" Y="-519.6089" Z="47.37726" />
									<Hotspot X="4760.93" Y="-479.2505" Z="37.17424" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
				</While>

				<While Condition="HasQuest(37968) &amp;&amp; !IsQuestCompleted(37968)" > <!-- Assault on the Temple of Sha'naar -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on the Temple of Sha'naar.&quot;);" />
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(37966) &amp;&amp; !IsQuestCompleted(37966)" >
								<MoveTo Nav="Fly" DestName="Temple of Sha'naar" X="3612.619" Y="183.9686" Z="129.547" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37966)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="37968" NumOfTimes="1000" WaitTime="500" MobIds="240165, 90501, 90302, 90703, 92597" >
								<HuntingGrounds>
									<Hotspot Name="Entrace of Sha'naar" X="3620.049" Y="164.0029" Z="124.2737" />
									<Hotspot Name="Mid Lower Terrace" X="3297.727" Y="287.6227" Z="117.0291" />
									<Hotspot Name="Inside of cave, in big room" X="3526.195" Y="243.0635" Z="138.8644" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(37966) &amp;&amp; !IsQuestCompleted(37866)" >
								<If Condition="!CanFly()" >
									<MoveTo DestName="Temple of Sha'naar" X="3663.508" Y="105.9724" Z="83.52634" />
								</If>
								<MoveTo Nav="Fly" DestName="Temple of Sha'naar" X="3612.619" Y="183.9686" Z="129.547" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37966)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearAll" QuestId="37968" NumOfTimes="1000" WaitTime="500" MobIds="240165, 90501, 90302, 90703, 92597" >
								<HuntingGrounds>
									<Hotspot Name="Entrace of Sha'naar" X="3620.049" Y="164.0029" Z="124.2737" />
									<Hotspot Name="Mid Lower Terrace" X="3297.727" Y="287.6227" Z="117.0291" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
				</While>

				<While Condition="HasQuest(38046) &amp;&amp; !IsQuestCompleted(38046)" > <!-- Battle At The Iron Front -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Battle At The Iron Front.&quot;);" />
					<!-- Iron Front Healing Bandages -->
						<CustomBehavior File="Hooks\DoWhen" LogExecution="false" AllowUseWhileMounted="true" AllowExecutionWhileNotAlive="false" AllowUseDuringCombat="false" ActivityName="Use_Bandages" UseWhen="!IsQuestCompleted(38051) &amp;&amp; HasItem(122139) &amp;&amp; ((Me.IsAlliance &amp;&amp; Unit(90443, u =&gt; u.HealthPercent &lt;= 25 &amp;&amp; u.Distance &lt; 65 &amp;&amp; !Bots.DungeonBuddy.Avoidance.AvoidanceManager.Avoids.Any(a =&gt; a.IsPointInAvoid(u.Location))) != null) || (Me.IsHorde &amp;&amp; Unit(90452, u =&gt; u.HealthPercent &lt;= 25 &amp;&amp; u.Distance &lt; 65 &amp;&amp; !Bots.DungeonBuddy.Avoidance.AvoidanceManager.Avoids.Any(a =&gt; a.IsPointInAvoid(u.Location))) != null))" >
							<While Condition="HasItem(122139) &amp;&amp; (Me.IsAlliance &amp;&amp; Unit(90443, u =&gt; u.Distance &lt; 65 &amp;&amp; !Bots.DungeonBuddy.Avoidance.AvoidanceManager.Avoids.Any(a =&gt; a.IsPointInAvoid(u.Location))) != null) &amp;&amp; !IsQuestCompleted(38051)" >
								<CustomBehavior File="InteractWith" Range="3" MobHpPercentLeft="25" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="90443" WaitForNpcs="false" />
								<CustomBehavior File="WaitTimer" WaitTime="1000" />
							</While>
							<While Condition="HasItem(122139) &amp;&amp; (Me.IsHorde &amp;&amp; Unit(90452, u =&gt; u.Distance &lt; 65 &amp;&amp; !Bots.DungeonBuddy.Avoidance.AvoidanceManager.Avoids.Any(a =&gt; a.IsPointInAvoid(u.Location))) != null) &amp;&amp; !IsQuestCompleted(38051)" >
								<CustomBehavior File="InteractWith" Range="3" MobHpPercentLeft="25" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="90452" WaitForNpcs="false" />
								<CustomBehavior File="WaitTimer" WaitTime="1000" />
							</While>
						</CustomBehavior>
						<CustomBehavior File="Hooks\DoWhen" LogExecution="false" AllowUseWhileMounted="true" AllowExecutionWhileNotAlive="false" AllowUseDuringCombat="false" ActivityName="Obtain_Bandages" UseWhen="!IsQuestCompleted(38051) &amp;&amp; HasItem(122139) &amp;&amp; Object(239971, o =&gt; o.Distance &lt;= 30) != null &amp;&amp; !IsQuestCompleted(38051)" >
							<CustomBehavior File="InteractWith" Range="4" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="239971" WaitForNpcs="false" />
						</CustomBehavior>
					<!-- END Iron Front Healing Bandages -->
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(38051) &amp;&amp; !IsQuestCompleted(38051)" >
								<MoveTo Nav="Fly" DestName="The Iron Front" X="4022.859" Y="1185.233" Z="159.6061" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38051)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" QuestId="38046" NumOfTimes="1000" WaitTime="500" MobIds="90370, 93013" >
								<HuntingGrounds>
									<Hotspot X="4042.293" Y="1179.808" Z="163.2804" />
									<Hotspot X="3959.691" Y="1151.575" Z="166.0965" />
									<Hotspot X="3930.58" Y="1010.384" Z="158.9478" />
									<Hotspot X="3973.543" Y="969.1004" Z="159.216" />
									<Hotspot X="4003.456" Y="903.0444" Z="152.7976" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(38051) &amp;&amp; !IsQuestCompleted(38051)" >
								<MoveTo Nav="Fly" DestName="The Iron Front" X="3992.573" Y="805.0379" Z="151.8674" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38051)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" QuestId="38046" NumOfTimes="1000" WaitTime="500" MobIds="90370, 93013" >
								<HuntingGrounds>
									<Hotspot X="4042.293" Y="1179.808" Z="163.2804" />
									<Hotspot X="3959.691" Y="1151.575" Z="166.0965" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
					<CustomBehavior File="Hooks\DoWhen" LogExecution="false" ActivityName="Use_Bandages" Command="Remove" />
					<CustomBehavior File="Hooks\DoWhen" LogExecution="false" ActivityName="Obtain_Bandages" Command="Remove" />
				</While>

				<While Condition="HasQuest(38045) &amp;&amp; !IsQuestCompleted(38045)" > <!-- Bleeding the Bleeding Hollow -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Bleeding the Bleeding Hollow.&quot;);" />
					<While Condition="!HasQuest(38043) &amp;&amp; !IsQuestCompleted(38043)" > <!-- Check ID, higher than Horde, but I think I got this number from DevTools -->
						<MoveTo Nav="Fly" DestName="Zeth'gol" X="4245.792" Y="390.4549" Z="153.8195" />
						<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38043)" />
					</While>
					<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38045" NumOfTimes="1000" WaitTime="500" MobIds="90704, 90781" >
						<!-- 90781 goes with InteractWith, but requires to be used after interacting. -->
						<HuntingGrounds>
							<Hotspot X="4310.75" Y="431.8437" Z="175.2454" />
							<Hotspot X="4318.75" Y="372.2255" Z="176.6174" />
							<Hotspot X="4223.525" Y="552.8775" Z="173.4002" />
							<Hotspot X="4152.482" Y="654.0584" Z="162.6546" />
							<Hotspot X="4117.844" Y="594.8691" Z="162.812" />
						</HuntingGrounds>
					</CustomBehavior>
				</While>

				<While Condition="HasQuest(38250) &amp;&amp; !IsQuestCompleted(38250)" > <!-- Assault on the Ruins of Kra'nak -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on the Ruins of Kra'nak.&quot;);" />
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(37938) &amp;&amp; !IsQuestCompleted(37938)" >
								<MoveTo Nav="Fly" DestName="Ruins of Kra'nak" X="4546.603" Y="484.6314" Z="226.6398" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37938)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38250" NumOfTimes="1000" WaitTime="500" MobIds="90794, 90300, 90706, 90795, 90790, 90792, 90791, 90796" >
								<HuntingGrounds>
									<Hotspot X="4560.763" Y="443.0881" Z="229.8193" />
									<Hotspot X="4526.892" Y="518.3264" Z="229.262" />
									<Hotspot X="4475.299" Y="649.1726" Z="191.4169" />
									<Hotspot X="4496.495" Y="744.3486" Z="181.2569" />
									<Hotspot X="4477.998" Y="792.3724" Z="181.1873" />
									<Hotspot X="4368.549" Y="871.2369" Z="175.4837" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(37938) &amp;&amp; !IsQuestCompleted(37938)" >
								<MoveTo Nav="Fly" DestName="Ruins of Kra'nak" X="4539.619" Y="424.5465" Z="229.3716" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37938)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearAll" QuestId="38250" NumOfTimes="1000" WaitTime="500" MobIds="90794, 90300, 90706, 90795, 90790, 90792, 90791, 90796" >
								<HuntingGrounds>
									<Hotspot X="4513.263" Y="472.1714" Z="228.9365" />
									<Hotspot X="4577.068" Y="478.2981" Z="229.146" />
									<Hotspot X="4550.217" Y="544.4664" Z="229.3091" />
									<Hotspot X="4472.96" Y="650.1429" Z="192.0173" />
									<Hotspot X="4624.967" Y="590.0174" Z="203.0758" />
									<Hotspot X="4631.798" Y="612.7723" Z="203.2114" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
				</While>

				<While Condition="HasQuest(38440) &amp;&amp; !IsQuestCompleted(38440)" > <!-- Assault on The Fel Forge -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on The Fel Forge.&quot;);" />
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(38439) &amp;&amp; !IsQuestCompleted(38439)" > <!-- Assault on the Fel Forge -->
								<MoveTo Nav="Fly" DestName="The Fel Forge" X="4472.133" Y="-697.1107" Z="33.81255" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38439)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MobState="AliveNotInCombat" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsThatWillAggro" MobIds="241669, 91721, 91901, 92741, 241507" QuestId="38440" NumOfTimes="1000" WaitTime="500" >
								<HuntingGrounds>
									<Hotspot X="4421.958" Y="-871.004" Z="43.66127" />
									<Hotspot X="4233.836" Y="-831.981" Z="25.86019" />
									<Hotspot X="4322.664" Y="-1037.712" Z="21.86206" />
									<Hotspot X="4387.688" Y="-959.9526" Z="35.74992" />
									<Hotspot X="4471.273" Y="-949.8047" Z="41.18494" />
									<Hotspot X="4508.456" Y="-754.2703" Z="47.78214" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls :: Same as hard, make edits if too hard. -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(38439) &amp;&amp; !IsQuestCompleted(38439)" > <!-- Assault on the Fel Forge -->
								<MoveTo Nav="Fly" DestName="The Fel Forge" X="4472.133" Y="-697.1107" Z="33.81255" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38439)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MobState="AliveNotInCombat" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsThatWillAggro" MobIds="241669, 91721, 91901, 92741, 241507" QuestId="38440" NumOfTimes="1000" WaitTime="500" >
								<HuntingGrounds>
									<Hotspot X="4421.958" Y="-871.004" Z="43.66127" />
									<Hotspot X="4233.836" Y="-831.981" Z="25.86019" />
									<Hotspot X="4322.664" Y="-1037.712" Z="21.86206" />
									<Hotspot X="4387.688" Y="-959.9526" Z="35.74992" />
									<Hotspot X="4471.273" Y="-949.8047" Z="41.18494" />
									<Hotspot X="4508.456" Y="-754.2703" Z="47.78214" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
				</While>

				<!-- <While Condition="HasQuest(38585) &amp;&amp; !IsQuestCompleted(38585)" > [GROUP] Assault on the Throne of Kil'jaeden 
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on the Throne of Kil'jaeden.&quot;);" />
					<CustomBehavior File="Abandon"
				</While>-->
			<!-- END DO Randomized Daily from Tanaan Battle Plan -->

			<!-- Turnin Randomized Daily from Tanaan Battle Plan -->
				<If Condition="(HasQuest(37891) || HasQuest(37968) || HasQuest(38046) || HasQuest(38045) || HasQuest(38250) || HasQuest(38440)) &amp;&amp; (IsQuestCompleted(37891) || IsQuestCompleted(37968) || IsQuestCompleted(38046) || IsQuestCompleted(38045) || IsQuestCompleted(38250) || IsQuestCompleted(38440))" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Turning in Tanaan Battle Plan quest.&quot;);" />
					<MoveTo Nav="Fly" DestName="Lion's Den" X="3839.977" Y="-1337.494" Z="93.69565" />
				</If>
				<While Condition="HasQuest(37891) &amp;&amp; IsQuestCompleted(37891)" >
					<TurnIn QuestName="Assault on Ironhold Harbor" QuestId="37891" TurnInName="Exarch Yrel" TurnInId="90309" />
				</While>
				<While Condition="HasQuest(37968) &amp;&amp; IsQuestCompleted(37968)" >
					<TurnIn QuestName="Assault on the Temple of Sha'naar" QuestId="37968" TurnInName="Exarch Yrel" TurnInId="90309" />
				</While>
				<While Condition="HasQuest(38046) &amp;&amp; IsQuestCompleted(38046)" >
					<TurnIn QuestName="Battle At The Iron Front" QuestId="38046" TurnInName="Exarch Yrel" TurnInId="90309" />
				</While>
				<While Condition="HasQuest(38045) &amp;&amp; IsQuestCompleted(38045)" >
					<TurnIn QuestName="Bleeding the Bleeding Hollow" QuestId="38045" TurnInName="Exarch Yrel" TurnInId="90309" />
				</While>
				<While Condition="HasQuest(38250) &amp;&amp; IsQuestCompleted(38250)" >
					<TurnIn QuestName="Assault on the Ruins of Kra'nak" QuestId="38250" TurnInName="Exarch Yrel" TurnInId="90309" />
				</While>
				<While Condition="HasQuest(38440) &amp;&amp; IsQuestCompleted(38440)" >
					<TurnIn QuestName="Assault on The Fel Forge" QuestId="38440" TurnInName="Exarch Yrel" TurnInId="90309" />
				</While>
			<!-- END Turnin Randomized Daily from Tanaan Battle Plan -->
	 	</If>
	<!-- [Horde] Do Daily Quests -->
		<If Condition="Me.IsHorde" >
			<!-- DO Randomized Daily from Tanaan Battle Plan -->
				<While Condition="HasQuest(37940) &amp;&amp; !IsQuestCompleted(37940)" > <!-- Assault on Ironhold Harbor -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on Ironhold Harbor.&quot;);" />
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(37865) &amp;&amp; !IsQuestCompleted(37865)" >
								<MoveTo Nav="Fly" DestName="Ironhold Harbor" X="4583.305" Y="-399.9979" Z="10.69125" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37865)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsThatWillAggro" QuestId="37940" NumOfTimes="1000" WaitTime="500" MobIds="239839, 90433, 90069" >
								<HuntingGrounds> <!-- 90069, True Iron Bomb. Need to click on a tank after picking it up. Could also just have it click the player's location. -->
									<Hotspot X="4583.305" Y="-399.9979" Z="10.69125" />
									<Hotspot X="4592.449" Y="-238.1564" Z="10.7333" />
									<Hotspot X="4770.981" Y="-244.9629" Z="4.211271" />
									<Hotspot X="4786.581" Y="-386.6306" Z="4.258256" />
									<Hotspot X="4644.233" Y="-483.5012" Z="21.41648" />
									<Hotspot X="4581.786" Y="-506.2161" Z="21.41869" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(37865) &amp;&amp; !IsQuestCompleted(37865)" >
								<MoveTo Nav="Fly" DestName="Ironhold Harbor" X="4633.494" Y="-578.2945" Z="44.38635" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37865)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsThatWillAggro" QuestId="37940" NumOfTimes="1000" WaitTime="500" MobIds="239839, 90433, 90069" >
								<HuntingGrounds> <!-- 90069, True Iron Bomb. Need to click on a tank after picking it up. Could also just have it click the player's location. -->
									<Hotspot X="4658.131" Y="-552.9175" Z="36.25991" />
									<Hotspot X="4634.374" Y="-493.1973" Z="21.42153" />
									<Hotspot X="4693.737" Y="-519.6089" Z="47.37726" />
									<Hotspot X="4760.93" Y="-479.2505" Z="37.17424" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
				</While>

				<While Condition="HasQuest(38449) &amp;&amp; !IsQuestCompleted(38449)" > <!-- Assault on the Temple of Sha'naar -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on the Temple of Sha'naar.&quot;);" />
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(38020) &amp;&amp; !IsQuestCompleted(38020)" >
								<MoveTo Nav="Fly" DestName="Temple of Sha'naar" X="3612.619" Y="183.9686" Z="129.547" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38020)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38449" NumOfTimes="1000" WaitTime="500" MobIds="240165, 90501, 90302, 90703, 92597" >
								<HuntingGrounds>
									<Hotspot Name="Entrace of Sha'naar" X="3620.049" Y="164.0029" Z="124.2737" />
									<Hotspot Name="Mid Lower Terrace" X="3297.727" Y="287.6227" Z="117.0291" />
									<Hotspot Name="Inside of cave, in big room" X="3526.195" Y="243.0635" Z="138.8644" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(38020) &amp;&amp; !IsQuestCompleted(38020)" >
								<If Condition="!CanFly()" >
									<MoveTo DestName="Temple of Sha'naar" X="3663.508" Y="105.9724" Z="83.52634" />
								</If>
								<MoveTo Nav="Fly" DestName="Temple of Sha'naar" X="3612.619" Y="183.9686" Z="129.547" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38020)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearAll" QuestId="38449" NumOfTimes="1000" WaitTime="500" MobIds="240165, 90501, 90302, 90703, 92597" >
								<HuntingGrounds>
									<Hotspot Name="Entrace of Sha'naar" X="3620.049" Y="164.0029" Z="124.2737" />
									<Hotspot Name="Mid Lower Terrace" X="3297.727" Y="287.6227" Z="117.0291" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
				</While>

				<While Condition="HasQuest(38047) &amp;&amp; !IsQuestCompleted(38047)" > <!-- Battle At The Iron Front -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Battle At The Iron Front.&quot;);" />
					<!-- Iron Front Healing Bandages -->
						<CustomBehavior File="Hooks\DoWhen" LogExecution="false" AllowUseWhileMounted="true" AllowExecutionWhileNotAlive="false" AllowUseDuringCombat="false" ActivityName="Use_Bandages" UseWhen="!IsQuestCompleted(38054) &amp;&amp; HasItem(122139) &amp;&amp; ((Me.IsAlliance &amp;&amp; Unit(90443, u =&gt; u.HealthPercent &lt;= 25 &amp;&amp; u.Distance &lt; 65 &amp;&amp; !Bots.DungeonBuddy.Avoidance.AvoidanceManager.Avoids.Any(a =&gt; a.IsPointInAvoid(u.Location))) != null) || (Me.IsHorde &amp;&amp; Unit(90452, u =&gt; u.HealthPercent &lt;= 25 &amp;&amp; u.Distance &lt; 65 &amp;&amp; !Bots.DungeonBuddy.Avoidance.AvoidanceManager.Avoids.Any(a =&gt; a.IsPointInAvoid(u.Location))) != null))" >
							<While Condition="HasItem(122139) &amp;&amp; (Me.IsAlliance &amp;&amp; Unit(90443, u =&gt; u.Distance &lt; 65 &amp;&amp; !Bots.DungeonBuddy.Avoidance.AvoidanceManager.Avoids.Any(a =&gt; a.IsPointInAvoid(u.Location))) != null) &amp;&amp; !IsQuestCompleted(38054)" >
								<CustomBehavior File="InteractWith" Range="3" MobHpPercentLeft="25" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="90443" WaitForNpcs="false" />
								<CustomBehavior File="WaitTimer" WaitTime="1000" />
							</While>
							<While Condition="HasItem(122139) &amp;&amp; (Me.IsHorde &amp;&amp; Unit(90452, u =&gt; u.Distance &lt; 65 &amp;&amp; !Bots.DungeonBuddy.Avoidance.AvoidanceManager.Avoids.Any(a =&gt; a.IsPointInAvoid(u.Location))) != null) &amp;&amp; !IsQuestCompleted(38054)" >
								<CustomBehavior File="InteractWith" Range="3" MobHpPercentLeft="25" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="90452" WaitForNpcs="false" />
								<CustomBehavior File="WaitTimer" WaitTime="1000" />
							</While>
						</CustomBehavior>
						<CustomBehavior File="Hooks\DoWhen" LogExecution="false" AllowUseWhileMounted="true" AllowExecutionWhileNotAlive="false" AllowUseDuringCombat="false" ActivityName="Obtain_Bandages" UseWhen="!IsQuestCompleted(38054) &amp;&amp; !HasItem(122139) &amp;&amp; Object(239971, o =&gt; o.Distance &lt;= 40) != null" >
							<CustomBehavior File="InteractWith" Range="3" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" MobId="239971" WaitForNpcs="false" />
						</CustomBehavior>
					<!-- END Iron Front Healing Bandages -->
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(38054) &amp;&amp; !IsQuestCompleted(38054)" >
								<MoveTo Nav="Fly" DestName="The Iron Front" X="4022.859" Y="1185.233" Z="159.6061" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38054)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" QuestId="38047" NumOfTimes="1000" WaitTime="500" MobIds="90370, 93013" >
								<HuntingGrounds>
									<Hotspot X="4042.293" Y="1179.808" Z="163.2804" />
									<Hotspot X="3959.691" Y="1151.575" Z="166.0965" />
									<Hotspot X="3930.58" Y="1010.384" Z="158.9478" />
									<Hotspot X="3973.543" Y="969.1004" Z="159.216" />
									<Hotspot X="4003.456" Y="903.0444" Z="152.7976" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(38054) &amp;&amp; !IsQuestCompleted(38054)" >
								<MoveTo Nav="Fly" DestName="The Iron Front" X="3992.573" Y="805.0379" Z="151.8674" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38054)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" QuestId="38047" NumOfTimes="1000" WaitTime="500" MobIds="90370, 93013" >
								<HuntingGrounds>
									<Hotspot X="4042.293" Y="1179.808" Z="163.2804" />
									<Hotspot X="3959.691" Y="1151.575" Z="166.0965" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
					<CustomBehavior File="Hooks\DoWhen" LogExecution="false" ActivityName="Use_Bandages" Command="Remove" />
					<CustomBehavior File="Hooks\DoWhen" LogExecution="false" ActivityName="Obtain_Bandages" Command="Remove" />
				</While>

				<While Condition="HasQuest(38044) &amp;&amp; !IsQuestCompleted(38044)" > <!-- Bleeding the Bleeding Hollow -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Bleeding the Bleeding Hollow.&quot;);" />
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(38040) &amp;&amp; !IsQuestCompleted(38040)" >
								<MoveTo Nav="Fly" DestName="Zeth'gol" X="4245.792" Y="390.4549" Z="153.8195" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38040)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38044" NumOfTimes="1000" WaitTime="500" MobIds="90704, 90781" >
								<HuntingGrounds>
									<Hotspot X="4310.75" Y="431.8437" Z="175.2454" />
									<Hotspot X="4318.75" Y="372.2255" Z="176.6174" />
									<Hotspot X="4223.525" Y="552.8775" Z="173.4002" />
									<Hotspot X="4152.482" Y="654.0584" Z="162.6546" />
									<Hotspot X="4117.844" Y="594.8691" Z="162.812" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(38040) &amp;&amp; !IsQuestCompleted(38040)" >
								<MoveTo Nav="Fly" DestName="Zeth'gol" X="4245.792" Y="390.4549" Z="153.8195" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38040)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38044" NumOfTimes="1000" WaitTime="500" MobIds="90704" >
								<!-- 90781 goes with InteractWith, but requires to be used after interacting. -->
								<HuntingGrounds>
									<Hotspot X="4031.807" Y="513.1544" Z="142.0807" />
									<Hotspot X="4083.947" Y="439.1315" Z="140.3514" />
									<Hotspot X="4090.982" Y="508.5185" Z="141.1908" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
				</While>

				<While Condition="HasQuest(38252) &amp;&amp; !IsQuestCompleted(38252)" > <!-- Assault on the Ruins of Kra'nak -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on the Ruins of Kra'nak.&quot;);" />
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(38009) &amp;&amp; !IsQuestCompleted(38009)" >
								<MoveTo Nav="Fly" DestName="Ruins of Kra'nak" X="4546.603" Y="484.6314" Z="226.6398" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38009)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsTargetingUs" QuestId="38252" NumOfTimes="1000" WaitTime="500" MobIds="90794, 90300, 90706, 90795, 90790, 90792, 90791, 90796" >
								<HuntingGrounds>
									<Hotspot X="4560.763" Y="443.0881" Z="229.8193" />
									<Hotspot X="4526.892" Y="518.3264" Z="229.262" />
									<Hotspot X="4475.299" Y="649.1726" Z="191.4169" />
									<Hotspot X="4496.495" Y="744.3486" Z="181.2569" />
									<Hotspot X="4477.998" Y="792.3724" Z="181.1873" />
									<Hotspot X="4368.549" Y="871.2369" Z="175.4837" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(38009) &amp;&amp; !IsQuestCompleted(38009)" >
								<MoveTo Nav="Fly" DestName="Ruins of Kra'nak" X="4539.619" Y="424.5465" Z="229.3716" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(38009)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearAll" QuestId="38252" NumOfTimes="1000" WaitTime="500" MobIds="90794, 90300, 90706, 90795, 90790, 90792, 90791, 90796" >
								<HuntingGrounds>
									<Hotspot X="4513.263" Y="472.1714" Z="228.9365" />
									<Hotspot X="4577.068" Y="478.2981" Z="229.146" />
									<Hotspot X="4550.217" Y="544.4664" Z="229.3091" />
									<Hotspot X="4472.96" Y="650.1429" Z="192.0173" />
									<Hotspot X="4624.967" Y="590.0174" Z="203.0758" />
									<Hotspot X="4631.798" Y="612.7723" Z="203.2114" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
				</While>

				<While Condition="HasQuest(38441) &amp;&amp; !IsQuestCompleted(38441)" > <!-- Assault on The Fel Forge -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on The Fel Forge.&quot;);" />
					<!-- Hard Pulls -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &gt;= 645" >
							<While Condition="!HasQuest(37970) &amp;&amp; !IsQuestCompleted(37970)" > <!-- Assault on the Fel Forge -->
								<MoveTo Nav="Fly" DestName="The Fel Forge" X="4472.133" Y="-697.1107" Z="33.81255" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37970)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MobState="AliveNotInCombat" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsThatWillAggro" MobIds="241669, 91721, 91901, 92741, 241507" QuestId="38441" NumOfTimes="1000" WaitTime="500" >
								<HuntingGrounds>
									<Hotspot X="4421.958" Y="-871.004" Z="43.66127" />
									<Hotspot X="4233.836" Y="-831.981" Z="25.86019" />
									<Hotspot X="4322.664" Y="-1037.712" Z="21.86206" />
									<Hotspot X="4387.688" Y="-959.9526" Z="35.74992" />
									<Hotspot X="4471.273" Y="-949.8047" Z="41.18494" />
									<Hotspot X="4508.456" Y="-754.2703" Z="47.78214" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Hard Pulls -->
					<!-- Easy Pulls :: Same as hard, make edits if too hard. -->
						<If Condition="Lua.GetReturnVal&lt;float&gt;(&quot;return GetAverageItemLevel()&quot;, 0) &lt; 645" >
							<While Condition="!HasQuest(37970) &amp;&amp; !IsQuestCompleted(37970)" > <!-- Assault on the Fel Forge -->
								<MoveTo Nav="Fly" DestName="The Fel Forge" X="4472.133" Y="-697.1107" Z="33.81255" />
								<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="HasQuest(37970)" />
							</While>
							<CustomBehavior File="InteractWith" IgnoreMobsInBlackspots="true" MobState="AliveNotInCombat" MovementBy="NavigatorOnly" PreInteractMountStrategy="Dismount" ProactiveCombatStrategy="ClearMobsThatWillAggro" MobIds="241669, 91721, 91901, 92741, 241507" QuestId="38441" NumOfTimes="1000" WaitTime="500" >
								<HuntingGrounds>
									<Hotspot X="4421.958" Y="-871.004" Z="43.66127" />
									<Hotspot X="4233.836" Y="-831.981" Z="25.86019" />
									<Hotspot X="4322.664" Y="-1037.712" Z="21.86206" />
									<Hotspot X="4387.688" Y="-959.9526" Z="35.74992" />
									<Hotspot X="4471.273" Y="-949.8047" Z="41.18494" />
									<Hotspot X="4508.456" Y="-754.2703" Z="47.78214" />
								</HuntingGrounds>
							</CustomBehavior>
						</If>
					<!-- END Easy Pulls -->
				</While>

				<!-- <While Condition="HasQuest(38586) &amp;&amp; !IsQuestCompleted(38586)" > [GROUP] Assault on the Throne of Kil'jaeden 
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Quest Detected - Assault on the Throne of Kil'jaeden.&quot;);" />
					<CustomBehavior File="Abandon"
				</While>-->
			<!-- END DO Randomized Daily from Tanaan Battle Plan -->

			<!-- Turnin Randomized Daily from Tanaan Battle Plan -->
				<If Condition="(HasQuest(37940) || HasQuest(38449) || HasQuest(38047) || HasQuest(38044) || HasQuest(38252) || HasQuest(38441)) &amp;&amp; (IsQuestCompleted(37940) || IsQuestCompleted(38449) || IsQuestCompleted(38047) || IsQuestCompleted(38044) || IsQuestCompleted(38252) || IsQuestCompleted(38441))" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Yellow, &quot;[Notification]: Turning in Tanaan Battle Plan quest.&quot;);" />
					<MoveTo Nav="Fly" DestName="Vol'mar Hold" X="4317.091" Y="-1491.344" Z="83.46479" />
				</If>
				<While Condition="HasQuest(37940) &amp;&amp; IsQuestCompleted(37940)" >
					<TurnIn QuestName="Assault on Ironhold Harbor" QuestId="37940" TurnInName="Draka" TurnInId="90481" />
				</While>
				<While Condition="HasQuest(38449) &amp;&amp; IsQuestCompleted(38449)" >
					<TurnIn QuestName="Assault on the Temple of Sha'naar" QuestId="38449" TurnInName="Draka" TurnInId="90481" />
				</While>
				<While Condition="HasQuest(38047) &amp;&amp; IsQuestCompleted(38047)" >
					<TurnIn QuestName="Battle At The Iron Front" QuestId="38047" TurnInName="Draka" TurnInId="90481" />
				</While>
				<While Condition="HasQuest(38044) &amp;&amp; IsQuestCompleted(38044)" >
					<TurnIn QuestName="Bleeding the Bleeding Hollow" QuestId="38044" TurnInName="Draka" TurnInId="90481" />
				</While>
				<While Condition="HasQuest(38252) &amp;&amp; IsQuestCompleted(38252)" >
					<TurnIn QuestName="Assault on the Ruins of Kra'nak" QuestId="38252" TurnInName="Draka" TurnInId="90481" />
				</While>
				<While Condition="HasQuest(38441) &amp;&amp; IsQuestCompleted(38441)" >
					<TurnIn QuestName="Assault on The Fel Forge" QuestId="38441" TurnInName="Draka" TurnInId="90481" />
				</While>
			<!-- END Turnin Randomized Daily from Tanaan Battle Plan -->
		</If>

</QuestOrder>
</HBProfile>